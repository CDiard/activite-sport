{% extends 'base.html.twig' %}

{% block title %}SUAPS - Gestion joueurs{% endblock %}

{% block body %}
    <section>
        <h1>Les joueurs</h1>
    </section>
    <section>
        <form action="{{ path('app_prof_players_modify') }}" method="post">
            <ul data-controller="wrapper" class="card-player_wrapper">
                {% for key, player in players %}
                    <li class="card card-player {{ key+1 }}">
                        <p class="username">{{ player.username }}</p>
                        {% if teams %}
                            <label for="playerTeam-{{ player.id }}" class="label-team">Equipe</label>
                            <select name="playerTeam-{{ player.id }}" id="playerTeam-{{ player.id }}" class="select-team">
                                {% for team in teams %}
                                    {% if player.team %}
                                        <option value="{{ team.id }}" {% if team.id == player.team.id %}selected{% endif %}>{{ team.name }}</option>
                                    {% else %}
                                        <option value="{{ team.id }}">{{ team.name }}</option>
                                    {% endif %}
                                {% endfor %}
                            </select>
                        {% endif %}
                        <a href="{{ path('app_prof_players_delete', { 'id': player.id }) }}" class="btn-delete"><i class="fa-regular fa-trash-can"></i></a>
                    </li>
                {% endfor %}
            </ul>
            <input type="submit" value="Valider" class="btn btn-primary">
        </form>
    </section>
{% endblock %}
